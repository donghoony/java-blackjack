# java-blackjack

블랙잭 미션 저장소

## 페어와 지킬 컨벤션

1. 클래스 정의 다음 줄은 공백으로 한다.
2. test code에 사용하는 메서드는 `static import`한다.

### 추가 컨벤션

- `this` 키워드는 아래 상황에서만 사용한다. 그 외의 상황에서는 생략한다.
    1. 생성자에서 필드를 초기화하는 경우
    2. 필드와 메서드 파라미터의 이름이 동일해 구분이 필요한 경우

## 요구사항

### 카드

- [x] 카드는 모양과 수로 이루어져 있다.
- [x] 모양으로는 스페이드, 다이아, 하트, 클로버가 있다.
- [x] 수로는 Ace, King, Queen, Jack과 2 이상 10 이하의 정수가 있다.
- [x] 카드의 숫자 계산은 카드 숫자를 기본으로 한다.
- [x] Ace는 1 또는 11로 계산할 수 있다.
- [x] King, Queen, Jack은 각각 10으로 계산한다.

### 점수

- [x] 현재 점수를 받아, 10점을 추가할 수 있다면 추가한다. (Ace 판정 로직은 Hand에서 한다.)

### 손패 (Hand)

- [x] 카드를 뽑아 손패에 추가한다.
- [x] 손패에 에이스가 있는지 판단한다.
- [x] 손패의 점수를 계산한다.
- [x] 점수보다 큰지 판단한다.
- [x] 현재 버스트 여부를 판단한다.
- [x] 현재 블랙잭 여부를 판단한다.

### 덱

- [x] 맨 위의 카드 한 장을 뽑는다.
- [x] 덱에 카드가 없는 경우, 예외를 발생한다.

### 플레이어

- [x] 덱에서 카드를 한 장 뽑는다.
- [x] 지금까지 뽑은 카드의 점수를 계산한다.

### 상태

플레이어는 게임에서 일정한 상태를 가진다. 행동을 수행할 때마다 상태가 전이된다.

#### 딜러의 상태 (DealerState)

- [x] 17점 이상이 된다면, 스탠드 상태로 전이한다.

#### 뽑을 수 있는 상태 (PlayerState)

- [x] 카드를 뽑는다. 만약 손패가 21점을 초과하면, 버스트 상태로 전이한다.
- [x] 카드를 뽑지 않는다. 스탠드 상태로 전이한다.

#### 뽑을 수 없는 상태 (TerminatedState)

BurstedState, StandState, BlackJackState가 있다. 해당 상태에서 상대 상태(딜러)를 받아 승리 여부를 판단한다.

- [x] 카드를 뽑을 수 없다.
- [x] 스탠드 상태로 전이할 수 없다.

### 이름

- [x] 이름은 2글자 이상 5글자 이하이다.
- [x] 이름은 공백으로만 구성될 수 없다.

### 플레이어들

- [x] 플레이어들의 이름은 중복될 수 없다.
- [x] 플레이어들의 인원수는 1명 이상 10명 이하이다.

### 베팅 금액

- [x] 결과에 따른 수익 금액을 계산한다.
- [x] 베팅 금액은 1,000원 단위이다.

### 게임 결과

게임 결과는 각 상태(State)에서 판단한다.

- [x] 게임 결과를 아래의 순서대로 올바르게 판단한다.
    1. 플레이어의 점수가 21점을 초과하면 딜러가 승리한다.
    2. 플레이어의 점수가 21점을 초과하지 않으면서 딜러의 점수가 21점을 초과하면 플레이어가 승리한다.
    3. 블랙잭은 블랙잭이 아닌 21점에게 승리한다.
    4. 딜러와 플레이어의 점수를 비교해 승패를 결정한다.
    5. 점수가 같으면 무승부이다.
- [x] 각 플레이어별 게임 결과를 저장한다.
- [x] 두 장만으로 21점을 만들면 블랙잭이며, 배팅 금액의 1.5배를 가져간다.
- [x] 무승부인 경우, 배팅 금액을 그대로 가져간다.
- [x] 승리하거나 패배하는 경우, 배팅 금액만큼 수익을 얻거나 잃는다.

---

### 게임 흐름

- [x] (hit, stand) 21을 넘지 않을 경우 원한다면 카드를 계속 뽑을 수 있다.
- [x] 게임이 시작할 때 딜러와 플레이어는 두 장의 카드를 지급 받는다.
- [x] 플레이어의 카드는 모두에게 공개된다.
- [x] 딜러의 두 번째 카드는 공개되지 않는다.
- [x] 각 플레이어는 딜러와만 승패를 겨룬다.
- [x] 딜러는 모든 플레이어와 승패를 겨룬다.
- [x] 게임을 완료한 후 딜러를 포함한 모든 플레이어의 수익를 확인한다.
